#ATTENTION!
#
#DO NOT MODIFY THIS FILE BECAUSE IT WAS GENERATED AUTOMATICALLY,
#SO ALL YOUR CHANGES WILL BE LOST THE NEXT TIME THE FILE IS GENERATED.

server {
	listen 178.254.40.101:443 ssl http2;

	server_name morethanandroid.de;
	server_name www.morethanandroid.de;
	server_name ipv4.morethanandroid.de;
	server_name mrmad.de;
	server_name www.mrmad.de;
	server_name mrmad.net;
	server_name www.mrmad.net;
	server_name hdwallpapersfit.com;
	server_name www.hdwallpapersfit.com;
	server_name sunybrockport.net;
	server_name www.sunybrockport.net;
	server_name ssdl.org;
	server_name www.ssdl.org;

	ssl_certificate             /opt/psa/var/certificates/scfLwKNiq;
	ssl_certificate_key         /opt/psa/var/certificates/scfLwKNiq;
	ssl_client_certificate      /opt/psa/var/certificates/scfzoyoaB;

	client_max_body_size 128m;

	root "/var/www/vhosts/morethanandroid.de/httpdocs";
	access_log "/var/www/vhosts/system/morethanandroid.de/logs/proxy_access_ssl_log";
	error_log "/var/www/vhosts/system/morethanandroid.de/logs/proxy_error_log";

	if ($host ~* ^morethanandroid\.de$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^mrmad\.de$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^www\.mrmad\.de$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^mrmad\.net$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^www\.mrmad\.net$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^hdwallpapersfit\.com$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^www\.hdwallpapersfit\.com$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^sunybrockport\.net$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^www\.sunybrockport\.net$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^ssdl\.org$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^www\.ssdl\.org$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}

	#extension wp-toolkit begin
	location ~* wp-config.php { deny all; }

	location ~* ".*/cache/.*\\.ph(?:p[345]?|t|tml)" {
		access_log off;
		log_not_found off;
		deny all;
	}

	location ~* "(?:wp-config\\.bak|\\.wp-config\\.php\\.swp|(?:readme|license|changelog|-config|-sample)\\.(?:php|md|txt|htm|html))" {
		return 403;
	}

	if ($http_user_agent ~* "(?:acunetix|BLEXBot|domaincrawler\\.com|LinkpadBot|MJ12bot/v|majestic12\\.co\\.uk|AhrefsBot|TwengaBot|SemrushBot|nikto|winhttp|Xenu\\s+Link\\s+Sleuth|Baiduspider|HTTrack|clshttp|harvest|extract|grab|miner|python-requests)") {
		return 403;
	}

	#extension wp-toolkit end

	#extension letsencrypt begin
	location ~ ^/\.well-known/acme-challenge/ {
		root /var/www/vhosts/default/htdocs;

		types { }
		default_type text/plain;

		satisfy any;
		auth_basic off;
		allow all;

		location ~ ^/\.well-known/acme-challenge.*/\. {
			deny all;
		}
	}
	#extension letsencrypt end

	location ~ ^/(plesk-stat|awstats-icon|webstat|webstat-ssl|ftpstat|anon_ftpstat) {
		auth_basic "Domainstatistiken";
		auth_basic_user_file "/var/www/vhosts/system/morethanandroid.de/pd/d..httpdocs@plesk-stat";
		autoindex on;

		location ~ ^/plesk-stat(.*) {
			alias /var/www/vhosts/system/morethanandroid.de/statistics/$1;
		}

		location ~ ^/awstats-icon(.*) {
			alias /usr/share/awstats/icon/$1;
		}

		location ~ ^/(.*)/(.*) {
			alias /var/www/vhosts/system/morethanandroid.de/statistics/$1/$2;
		}
	}

	location ~ ^/~(.+?)(/.*?\.php)(/.*)?$ {
		alias /var/www/vhosts/morethanandroid.de/web_users/$1/$2;
		fastcgi_split_path_info ^((?U).+\.php)(/?.+)$;
		fastcgi_param PATH_INFO $fastcgi_path_info;
		fastcgi_pass "unix:///var/www/vhosts/system/morethanandroid.de/php-fpm.sock";
		include /etc/nginx/fastcgi.conf;

	}

	location ~ \.php(/.*)?$ {
		fastcgi_split_path_info ^((?U).+\.php)(/?.+)$;
		fastcgi_param PATH_INFO $fastcgi_path_info;
		fastcgi_pass "unix:///var/www/vhosts/system/morethanandroid.de/php-fpm.sock";
		include /etc/nginx/fastcgi.conf;

	}

	location ~ /$ {
		index "index.html" "index.cgi" "index.pl" "index.php" "index.xhtml" "index.htm" "index.shtml";
	}

	add_header X-Powered-By PleskLin;

	include "/var/www/vhosts/system/morethanandroid.de/conf/vhost_nginx.conf";
}

server {
	listen 178.254.40.101:80;

	server_name morethanandroid.de;
	server_name www.morethanandroid.de;
	server_name ipv4.morethanandroid.de;
	server_name mrmad.de;
	server_name www.mrmad.de;
	server_name mrmad.net;
	server_name www.mrmad.net;
	server_name hdwallpapersfit.com;
	server_name www.hdwallpapersfit.com;
	server_name sunybrockport.net;
	server_name www.sunybrockport.net;
	server_name ssdl.org;
	server_name www.ssdl.org;

	client_max_body_size 128m;

	if ($host ~* ^morethanandroid\.de$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^mrmad\.de$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^www\.mrmad\.de$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^mrmad\.net$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^www\.mrmad\.net$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^hdwallpapersfit\.com$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^www\.hdwallpapersfit\.com$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^sunybrockport\.net$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^www\.sunybrockport\.net$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^ssdl\.org$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}
	if ($host ~* ^www\.ssdl\.org$) {
		rewrite ^(.*)$ https://www.morethanandroid.de$1 permanent;
	}

	return 301 https://$host$request_uri;
}